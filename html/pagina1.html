<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.cdnfonts.com/css/effra-heavy" rel="stylesheet">
    <link rel="stylesheet" href="../css/pagina1.css">
    <link rel="Website Icon" type="png"
    href="../img/logo_grande.png">
    <script src="../jquery-1.8.2.min.js"></script>
    <title>INICIAL</title>


</head>
<body>

    <div class="verm"> 
      <div id="menu-button">&#9776;  </div>

       <div id="menu">
        
        <ul>
          <li><img class="boneco" src="../img/bombeiro (1).png"><a href="perfil.php">Perfil </a></li>
        </ul>

       </div>
</div>

       
    </div>

    <div class="um">
        <img class="logo" src="../img/logo_grande.png" width="100px">
        <div class="escrita">
           <div class="titulo"><b>FOLHA DE ATENDIMENTO</b></div> 
           <div class="sub">Preencha os dados:</div> 
        </div>
    </div>

    <div id="principal" class="principal">

        <div id="d1" class="d1" >
          <div class="empurrar"></div>
          <div class="inicial">

            <div class="teste" id="teste" onclick="animar('d1');">

              <div id="imageDiv">
                 <img class="okay1" id="okay1" src="../img/okay.png" width="20px">
                 
              </div>

              </div>

            <br><p>DADOS INICIAIS</p></br>
          </div>
          <br>

            <div class="esconder" id="esconder1">

          <form method="post" action="" id="form1">
            <br>
              <legend> <b>DATA</b></legend>

                <input class="caixa2" type="date" name="aniversario"><BR>
                <br>
                <legend> <b>SEXO</b></legend>
                
                <input class="caixinha" type="radio" id="Feminino" name="sexo" value="Feminino"> &nbsp; FEMININO <br> 
                <input class="caixinha" type="radio" id="Masculino" name="sexo" value="Masculino"> &nbsp; MASCULINO <br>
                  <br>
                <legend> <b>NOME HOSPITAL</b></legend>
                <input class="caixa2" type="text" name="nome_hospital" PLACEHOLDER="nome"><legend> 
                <BR>
                  <div class="ni"> <legend> <b>PACIENTE:</b></legend> 
                <input class="caixa2" type="text" name="NOMEPAC" PLACEHOLDER="nome">

                <input class="caixa" type="number" name="IDADEPAC" PLACEHOLDER="idade"><legend>
                </div> 
                <input class="caixa2" type="number" name="CPFpac" PLACEHOLDER="rg/cpf" onkeyup="">

                <input max="14" class="caixa3" type="text" id="telefone" name="telefone" PLACEHOLDER="fone">

                <br><br>
                <legend> <b>ACOMPANHANTE:</b></legend> 
                <input class="caixa2" type="text" name="NOMEACOM" PLACEHOLDER="nome">

                <input class="caixa" type="number" name="IDADEACOM" PLACEHOLDER="idade">

                <br><br>
                <legend> <b>LOCAL DA OCORRÊNCIA</b></legend>
                <input class="caixa2" type="text" name="Localidade" PLACEHOLDER="endereço"> 

                <br><br>

                 <input class="enviar" type="button" name="enviar" value="Enviar" id="enviarButton"  >
                
                    <p id="message" style="display: none;">Foi preenchido e enviado</p> 
              

              </form>

            </div>
        </div>   <br>




        <div id="d2" class="d2">
          <div class="empurrar"></div>
          <div class="inicial">
            <div class="teste" id="teste" onclick="animar('d2');">
            
              <div id="imageDiv">

                <img class="okay2"  id="okay2" src="../img/okay.png" width="20px">
              </div>

            </div>

            <br><p>TIPO DE OCORRÊNCIA</p></br>
          </div>
          <br>
            <div class="esconder" id="esconder2">

              <form class="formtp"  method="post" action="" id="form2">

                <br>
                <input  type="checkbox" name="opcao1" value="Opcao1"> Causado por animais 
                <br>
                <input  type="checkbox" name="opcao2" value="Opcao2"> Com meio de transporte 
                <br>
                <input  type="checkbox" name="opcao3" value="Opcao3"> Desmoranamento
                <br>
                <input  type="checkbox" name="opcao4" value="Opcao4"> Emergência médica
                <br>
                <input  type="checkbox" name="opcao5" value="Opcao5"> Queda de altura 2M
                <br>
                <input  type="checkbox" name="opcao6" value="Opcao6"> Tentativa de suicídio 
                <br>
                <input  type="checkbox" name="opcao7" value="Opcao7"> Queda própria altura 
                <br>
                <input  type="checkbox" name="Opcao8" value="Opcao8"> Afogamento
                <br>
                <input  type="checkbox" name="opcao9" value="opcao9"> Agressão
                <br>
                <input  type="checkbox" name="opcao0" value="opcao10"> Atropelamento
                <br>
                <input  type="checkbox" name="opcao11" value="opcao11"> Choque elétrico
                <br>
                <input  type="checkbox" name="opcao12" value="opcao12"> Desabamento
                <br>
                <input  type="checkbox" name="opcao13" value="opcao13"> Doméstico
                <br>
                <input  type="checkbox" name="opcao14" value="opcao14"> Esportivo
                <br>
                <input  type="checkbox" name="opcao15" value="opcao15"> Intoxicação
                <br>
                <input  type="checkbox" name="opcao16" value="opcao16"> Queda bicicleta
                <br>
                <input  type="checkbox" name="opcao17" value="opcao17"> Queda moto
                <br>
                <input  type="checkbox" name="opcao18" value="opcao18"> Queda nível &lt;2m
                <br>
                <input  type="checkbox" name="opcao19" value="opcao19"> Trabalho
                <br>
                <input  type="checkbox" name="opcao20" value="opcao20"> Transferencia
                <br> <br>
                Outros
                <br>
                <input class="tp_ocorrencias2" type="text" name="Outros" value="">
                <br>
                <br> <br>

                <input class="enviar" type="button" value="Enviar" onclick="enviarFormulario()" >

              </form>
            </div>
        </div>   <br>

        
        <div id="d3" class="d3">
          <div class="empurrar"></div>
          <div class="inicial">
          <div class="teste" id="teste" onclick="animar('d3');">
          
            <div id="imageDiv">

              <img class="okay3"  id="okay3" src="../img/okay.png" width="20px">
            </div>
          
          </div>
          
          <br><p>SINAIS VITAIS</p></br>
          </div>
          <br>
            <div class="esconder" id="esconder3">

              <form class="formsv" method="post" action="" id="form3">
                <br>
               Pressão arterial
               <br> <input class="put" type="number" name="pressao_arterial" value="pressao_arterial">x
               <input class="put" type="number" name="pressao2" value="pressao_arterial2"></imput>mmHg
                <br>
                Pulso:<input class="put1" type="text" name="pulso" value="">B.C.P.M /

                Respiração <input class="put1" type="text" name="respiracao" value="">M.R.M.

                Saturação <input class="put1" type="number" name="saturacao" value=""> % / <br>

                HGT <input class="put1" type="number" name="hgt" value=""> <br>

                Temperatura <input class="put1" type="number" name="temperatura" value=""> ºC  
                <br>
                <input class="put2" type="checkbox" name="opcao1" value="opcao1">Anormal <br>
                <input class="put2" type="checkbox" name="opcao2" value="opcao2">Normal 
                <br>
                Perfusão:
                <br>
                 &gt;2SEG <input class="put3" type="checkbox" name="perfusao_menor" value="opcao3">
                 &lt;2SEG<input class="put3" type="checkbox" name="perfusao_maior"  value="opcao4">

                <br> <br>
                <input class="enviar" type="button" value="Enviar" onclick="sv_form() ">
              </form>

            </div>
        
        </div>   <br>

    </div>
    
    <div class="menu2">

       <a href="pagina2.html">
      <img class="setaa" src="../img/setinha2.png">
    </a>
    </div>
</body>
<script src="../Scripts/jquery-3.7.0.min.js"></script>
<script>
   


    function animar(ID) {
    var divHeight = $("#" + ID).height();

    esconder1.style.display="none"
    esconder2.style.display="none"
    esconder3.style.display="none"
    
    // Se a div estiver aberta (com altura maior que 130px), fechar a div
    if (divHeight > 130) {
        $("#" + ID).animate({ height: "130px" });
    } else { // Caso contrário, abrir a div para 850px
       
        if(ID=="d1")
        {
          $("#" + ID).animate({ height: "800px" });
          esconder1.style.display="block"// esconder as div com os dados
        }

        if(ID=="d2")
        {
          $("#" + ID).animate({ height: "700px" });
          esconder2.style.display="block"
        }

        if(ID=="d3")
        {
          $("#" + ID).animate({ height: "500px" });
          esconder3.style.display="block"
        }


        // Fechar as outras divs, caso estejam abertas
        if (ID !== "d1") {
            $("#d1").animate({ height: "130px" });
        }
        if (ID !== "d2") {
            $("#d2").animate({ height: "130px" });
        }
        if (ID !== "d3") {
            $("#d3").animate({ height: "130px" });
        }
    }
}
 const menuButton = document.getElementById('menu-button');
  const menu = document.getElementById('menu');

menuButton.addEventListener('click', () => {
menu.classList.toggle('open');
});


// div 1 ajax


    $(document).ready(function () {
    $("#enviarButton").click(function (e) {
        e.preventDefault(); 

        var formData = $("#form1").serialize();

        $.ajax({
            type: "POST",
            url: "../html/arquivopac.php",
            data: formData,
            success: function (response) {
                console.log('Server response:', response);
                alert("Dados enviados com succeso");
                // Handle success response if needed
            },
            error: function () {
                alert("Erro ao enviar os dados.");
            }
        });
    });
});


          // div 2 ajax
        function enviarFormulario() {

          // Serialize o formulário para obter os dados em formato de string
          var formData = $('#form2').serialize();

          $.ajax({
              type: "POST", // Método HTTP (ou "GET" se preferir)
              url: "tp_ocorrencias.php", // URL para onde enviar os dados
              data: formData,
              dataType: 'json',

              success: function(meu_json) {

                okay2.style.display="inline"
                  
              },
              error: function(error) {
                  // Ações a serem executadas em caso de erro
                  console.log("Ocorreu um erro ao enviar os dados");
                  console.log(error);
              }
           });
        }

      // ajax da div 3 

        function sv_form() {
    var dados = $('#form3').serialize();

            $.ajax({
                type: "POST",
                url: "sv_form.php",
                data: dados,
                dataType: 'json',
                                
                success: function(meu_json)
                {
                    okay3.style.display="block"
                  
                },
                error: function(xhr, status, error) {
                    // Aqui poderíamos preencher uma <div> com o innerHTML por exemplo
                    console.error('Ocorreu um erro ao enviar os dados: ' + error);
                },
                beforeSend: function(xhr) {
                    // Faz algo antes do envio, como exibir uma animação por exemplo.
                },
                complete: function(xhr, status) {
                    // Faz algo após a conclusão, como ocultar uma animação por exemplo. 
                    // Vai ser executado mesmo se ocorrer um erro.
                },
                timeout: 5000    // Define um tempo limite de 5 segundos (5000 milissegundos)
            });
      }

</script>